# Bind to Render's required PORT (critical for Render)
server.port=${PORT:8080}

# Render will override these with env vars anyway, but good to have defaults
spring.datasource.url=jdbc:postgresql://dummy:5432/dummy
spring.datasource.username=dummy
spring.datasource.password=dummy
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Reduce memory usage for free tier
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.hibernate.ddl-auto=update

# Limit JVM memory (helps avoid OOM on Render free tier)
JAVA_TOOL_OPTIONS=-Xmx384m

# Production blockchain (Sepolia)
web3j.node-url=${WEB3J_NODE_URL:https://ethereum-sepolia-rpc.publicnode.com}
contract.artist-shares-factory-address=0xE79d7Fe208E6ece678fb680377a7957Aa466a0f6

# Cleaner logs in production
logging.level.root=WARN
logging.level.org.springframework.web=INFO
logging.level.com.musicinvestment.musicapp=INFO

logging.level.org.springframework.web.socket=TRACE
logging.level.org.springframework.messaging=TRACE